(()=>{var e={};e.id=423,e.ids=[423],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5581:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>d.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=s(260),t=s(8203),n=s(5155),d=s.n(n),i=s(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let o=["",{children:["admin",{children:["orders",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5723)),"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9611)),"/home/Ayyan/Desktop/rentkar/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/Ayyan/Desktop/rentkar/web/app/admin/orders/new/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/admin/orders/new/page",pathname:"/admin/orders/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7575:(e,r,s)=>{Promise.resolve().then(s.bind(s,5723))},9247:(e,r,s)=>{Promise.resolve().then(s.bind(s,9935))},9935:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var a=s(5512),t=s(9306),n=s(7021),d=s(7643),i=s(5409),l=s(3261),o=s(4069),c=s(8859),m=s(801),p=s(3567),u=s(9334),h=s(8009);let x={"rentkar-mumbai":{address:"303,304 Royal Enclave Parsi Panchayat Road, Old Nagardas Rd, Mumbai, Maharashtra 400069",lat:19.125401,lng:72.852493}};function f(){let e=(0,u.useRouter)(),[r,s]=(0,h.useState)(""),[f,g]=(0,h.useState)(""),[y,b]=(0,h.useState)(""),[j,v]=(0,h.useState)(""),[w,N]=(0,h.useState)(""),[k,A]=(0,h.useState)(!1),P=async e=>{try{let r="AIzaSyBD47O77kr98i4ibhYozjFbGE9Pnfw4qk8";if(!r)throw Error("Google Maps API key is not configured");let s=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${r}`),a=await s.json();if(console.log(a),"OK"===a.status&&a.results&&a.results.length>0)return{lat:a.results[0].geometry.location.lat,lng:a.results[0].geometry.location.lng};if("ZERO_RESULTS"===a.status)throw Error("Address not found. Please check the address and try again.");if("REQUEST_DENIED"===a.status)throw Error("Google Maps API request denied. Please check your API key.");throw Error(`Geocoding failed: ${a.status}`)}catch(e){throw console.error("Geocoding error:",e),Error("Failed to convert address to coordinates")}},R=async s=>{s.preventDefault(),A(!0);try{if(!y)throw Error("Please select a pickup address");let s=x[y],a=await P(j),t={customer:r,customerPhone:f,pickupAddress:s.address,pickupAddressCord:{type:"Point",coordinates:[s.lng,s.lat]},deliveryAddress:j,deliveryAddressCord:{type:"Point",coordinates:[a.lng,a.lat]},items:w.split("\n").filter(e=>""!==e.trim())};await p.gH.create(t),(0,m.oR)({title:"Order created",description:"Order has been created successfully."}),e.push("/admin/dashboard")}catch(e){console.error("Create order error:",e),(0,m.oR)({title:"Failed to create order",description:e instanceof Error?e.message:"There was a problem creating the order.",variant:"destructive"})}finally{A(!1)}};return(0,a.jsx)(t.A,{children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Create New Order"})}),(0,a.jsx)(d.Zp,{children:(0,a.jsxs)("form",{onSubmit:R,children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Order Details"}),(0,a.jsx)(d.BT,{children:"Enter the details for the new delivery order"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"customerName",children:"Customer Name"}),(0,a.jsx)(i.p,{id:"customerName",value:r,onChange:e=>s(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"customerPhone",children:"Customer Phone"}),(0,a.jsx)(i.p,{id:"customerPhone",value:f,onChange:e=>g(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"pickupAddress",children:"Pickup Address"}),(0,a.jsxs)(o.l6,{value:y,onValueChange:b,required:!0,children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Select pickup address"})}),(0,a.jsx)(o.gC,{children:(0,a.jsx)(o.eb,{value:"rentkar-mumbai",children:"Rentkar Mumbai - 303,304 Royal Enclave Parsi Panchayat Road, Old Nagardas Rd, Mumbai, Maharashtra 400069"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"deliveryAddress",children:"Delivery Address"}),(0,a.jsx)(c.T,{id:"deliveryAddress",value:j,onChange:e=>v(e.target.value),placeholder:"Enter the complete delivery address...",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"items",children:"Items (one per line)"}),(0,a.jsx)(c.T,{id:"items",value:w,onChange:e=>N(e.target.value),placeholder:"Laptop - 1 unit Headphones - 2 units",required:!0,rows:4})]})]}),(0,a.jsxs)(d.wL,{className:"flex justify-between",children:[(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>e.push("/admin/dashboard"),children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",disabled:k,children:k?"Creating...":"Create Order"})]})]})})]})})}},9306:(e,r,s)=>{"use strict";s.d(r,{A:()=>x});var a=s(5512),t=s(7021),n=s(985),d=s(4269),i=s(8193),l=s(4977),o=s(722),c=s(6438),m=s(8531),p=s.n(m),u=s(9334),h=s(8009);function x({children:e}){let r=(0,u.useRouter)(),[s,m]=(0,h.useState)(!1),x=(0,h.useCallback)(()=>{localStorage.removeItem("user"),r.push("/login")},[r]);return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[s&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>m(!1)}),(0,a.jsx)("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:z-auto ${s?"translate-x-0":"-translate-x-full"}`,children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,a.jsxs)(p(),{href:"/admin/dashboard",className:"flex items-center",children:[(0,a.jsx)(n.A,{className:"h-6 w-6 text-primary mr-2"}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"Rentkar Admin"})]}),(0,a.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"lg:hidden",children:(0,a.jsx)(d.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[(0,a.jsxs)(p(),{href:"/admin/dashboard",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),(0,a.jsxs)(p(),{href:"/admin/orders/new",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 mr-3"}),"Create Order"]}),(0,a.jsxs)(p(),{href:"/admin/dashboard?tab=partners",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 mr-3"}),"Delivery Partners"]})]}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)(t.$,{variant:"outline",className:"w-full justify-start",onClick:x,children:[(0,a.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("header",{className:"h-16 border-b bg-white flex items-center px-4 lg:px-6",children:[(0,a.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>m(!0),className:"lg:hidden",children:(0,a.jsx)(c.A,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:"ml-auto flex items-center space-x-2",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"Admin"})})]}),(0,a.jsx)("main",{className:"flex-1",children:e})]})]})}s(3595)},5409:(e,r,s)=>{"use strict";s.d(r,{p:()=>d});var a=s(5512),t=s(8009),n=s(9462);let d=t.forwardRef(({className:e,type:r,...s},t)=>(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));d.displayName="Input"},3261:(e,r,s)=>{"use strict";s.d(r,{J:()=>c});var a=s(5512),t=s(8009),n=s(830),d=t.forwardRef((e,r)=>(0,a.jsx)(n.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d.displayName="Label";var i=s(1643),l=s(9462);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef(({className:e,...r},s)=>(0,a.jsx)(d,{ref:s,className:(0,l.cn)(o(),e),...r}));c.displayName=d.displayName},4069:(e,r,s)=>{"use strict";s.d(r,{bq:()=>p,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>m});var a=s(5512),t=s(8009),n=s(2133),d=s(8755),i=s(8638),l=s(4849),o=s(9462);let c=n.bL;n.YJ;let m=n.WT,p=t.forwardRef(({className:e,children:r,...s},t)=>(0,a.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[r,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=n.l9.displayName;let u=t.forwardRef(({className:e,...r},s)=>(0,a.jsx)(n.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})}));u.displayName=n.PP.displayName;let h=t.forwardRef(({className:e,...r},s)=>(0,a.jsx)(n.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})}));h.displayName=n.wn.displayName;let x=t.forwardRef(({className:e,children:r,position:s="popper",...t},d)=>(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:d,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...t,children:[(0,a.jsx)(u,{}),(0,a.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(h,{})]})}));x.displayName=n.UC.displayName,t.forwardRef(({className:e,...r},s)=>(0,a.jsx)(n.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",e),...r})).displayName=n.JU.displayName;let f=t.forwardRef(({className:e,children:r,...s},t)=>(0,a.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:r})]}));f.displayName=n.q7.displayName,t.forwardRef(({className:e,...r},s)=>(0,a.jsx)(n.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=n.wv.displayName},8859:(e,r,s)=>{"use strict";s.d(r,{T:()=>d});var a=s(5512),t=s(8009),n=s(9462);let d=t.forwardRef(({className:e,...r},s)=>(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));d.displayName="Textarea"},4977:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(1680).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},3595:(e,r,s)=>{"use strict";s.d(r,{X:()=>a});var a=function(e){return e.ADMIN="ADMIN",e.PARTNER="PARTNER",e}({})},5723:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/new/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/new/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[894,531,976,735],()=>s(5581));module.exports=a})();