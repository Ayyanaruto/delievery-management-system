(()=>{var e={};e.id=124,e.ids=[124],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9173:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(260),a=t(8203),n=t(5155),d=t.n(n),l=t(7292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(s,i);let o=["",{children:["admin",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6978)),"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9611)),"/home/Ayyan/Desktop/rentkar/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/Ayyan/Desktop/rentkar/web/app/admin/orders/[id]/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/orders/[id]/page",pathname:"/admin/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4298:(e,s,t)=>{Promise.resolve().then(t.bind(t,6978))},7346:(e,s,t)=>{Promise.resolve().then(t.bind(t,1238))},1238:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(5512),a=t(9306),n=t(7021),d=t(7643),l=t(3567),i=t(5668),o=t(1680);let c=(0,o.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),u=(0,o.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var m=t(8857),h=t(5670),x=t(9334),p=t(8009);let f=(0,h.default)(async()=>{},{loadableGenerated:{modules:["app/admin/orders/[id]/page.tsx -> @/components/order-map"]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-64 bg-gray-100 rounded-md flex items-center justify-center",children:"Loading map..."})});function y({params:e}){let s=(0,x.useRouter)(),[t,o]=(0,p.useState)(null),[h,y]=(0,p.useState)(!0),[j,g]=(0,p.useState)(null),[v,b]=(0,p.useState)(!1),[k,N]=(0,p.useState)(null),A=async()=>{if(k&&window.confirm("Are you sure you want to delete this order? This action cannot be undone.")){b(!0);try{await l.gH.delete(k.id),s.push("/admin/dashboard")}catch(e){console.error("Error deleting order:",e),g(e instanceof Error?e.message:"Failed to delete order")}finally{b(!1)}}};return h?(0,r.jsx)(a.A,{children:(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsx)("p",{children:"Loading order details..."})})}):j||!t?(0,r.jsx)(a.A,{children:(0,r.jsxs)("div",{className:"flex-1 p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:j||"Order not found"}),(0,r.jsxs)(n.$,{className:"mt-4",onClick:()=>s.push("/admin/dashboard"),children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})]})}):(0,r.jsx)(a.A,{children:(0,r.jsxs)("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(n.$,{variant:"ghost",onClick:()=>s.push("/admin/dashboard"),className:"mr-4",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"})," Back"]}),(0,r.jsxs)("h2",{className:"text-3xl font-bold tracking-tight",children:["Order #",t._id||t.id]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>s.push(`/admin/orders/${t._id||t.id}/update`),children:[(0,r.jsx)(c,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,r.jsxs)(n.$,{variant:"destructive",size:"sm",onClick:A,disabled:v,children:[(0,r.jsx)(u,{className:"mr-2 h-4 w-4"}),v?"Deleting...":"Delete"]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Order Information"}),(0,r.jsx)(d.BT,{children:"Details about this delivery order"})]}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,r.jsx)("p",{className:"mt-1",children:(0,r.jsx)("span",{className:`px-2 py-1 text-xs font-semibold rounded-full
                      ${"pending"===t.status?"bg-yellow-100 text-yellow-800":"assigned"===t.status?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),(0,r.jsx)("p",{className:"mt-1",children:new Date(t.createdAt).toLocaleString()})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,r.jsx)("p",{className:"mt-1",children:t.customer})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Customer Phone"}),(0,r.jsx)("p",{className:"mt-1",children:t.customerPhone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pickup Address"}),(0,r.jsxs)("p",{className:"mt-1 flex items-start",children:[(0,r.jsx)(m.A,{className:"mr-1 h-4 w-4 text-gray-400 mt-0.5"}),t.pickupAddress]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Delivery Address"}),(0,r.jsxs)("p",{className:"mt-1 flex items-start",children:[(0,r.jsx)(m.A,{className:"mr-1 h-4 w-4 text-gray-400 mt-0.5"}),t.deliveryAddress]})]}),t.assignedTo&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Assigned Partner"}),(0,r.jsx)("p",{className:"mt-1",children:"object"==typeof t.assignedTo&&null!==t.assignedTo&&"name"in t.assignedTo?t.assignedTo.name:"Partner details not available"})]})]})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Items"}),(0,r.jsx)(d.BT,{children:"Items included in this order"})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsx)("ul",{className:"space-y-2",children:t.items.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-primary mr-2"}),e]},s))})}),(0,r.jsx)(d.wL,{children:("pending"===t.status||"assigned"===t.status)&&(0,r.jsx)(n.$,{className:"w-full",onClick:()=>s.push(`/admin/orders/${t._id||t.id}/assign`),children:"pending"===t.status?"Assign to Delivery Partner":"Manage Assignment"})})]})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsx)(d.ZB,{children:"Route Map"}),(0,r.jsx)(d.BT,{children:"Pickup and delivery locations"})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsx)(f,{pickupAddress:t.pickupAddress,deliveryAddress:t.deliveryAddress,pickupCoords:t.pickupAddressCord,deliveryCoords:t.deliveryAddressCord})})]})]})})}},9306:(e,s,t)=>{"use strict";t.d(s,{A:()=>p});var r=t(5512),a=t(7021),n=t(985),d=t(4269),l=t(8193),i=t(4977),o=t(722),c=t(6438),u=t(8531),m=t.n(u),h=t(9334),x=t(8009);function p({children:e}){let s=(0,h.useRouter)(),[t,u]=(0,x.useState)(!1),p=(0,x.useCallback)(()=>{localStorage.removeItem("user"),s.push("/login")},[s]);return(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[t&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>u(!1)}),(0,r.jsx)("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:z-auto ${t?"translate-x-0":"-translate-x-full"}`,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,r.jsxs)(m(),{href:"/admin/dashboard",className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"h-6 w-6 text-primary mr-2"}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"Rentkar Admin"})]}),(0,r.jsx)(a.$,{variant:"ghost",size:"icon",onClick:()=>u(!1),className:"lg:hidden",children:(0,r.jsx)(d.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[(0,r.jsxs)(m(),{href:"/admin/dashboard",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),(0,r.jsxs)(m(),{href:"/admin/orders/new",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(n.A,{className:"h-5 w-5 mr-3"}),"Create Order"]}),(0,r.jsxs)(m(),{href:"/admin/dashboard?tab=partners",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 mr-3"}),"Delivery Partners"]})]}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)(a.$,{variant:"outline",className:"w-full justify-start",onClick:p,children:[(0,r.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsxs)("header",{className:"h-16 border-b bg-white flex items-center px-4 lg:px-6",children:[(0,r.jsx)(a.$,{variant:"ghost",size:"icon",onClick:()=>u(!0),className:"lg:hidden",children:(0,r.jsx)(c.A,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:"ml-auto flex items-center space-x-2",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:"Admin"})})]}),(0,r.jsx)("main",{className:"flex-1",children:e})]})]})}t(3595)},5668:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8193:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},722:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},8857:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6438:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},985:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},4977:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1680).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5670:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(6256),a=t.n(r)},9334:(e,s,t)=>{"use strict";var r=t(8686);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},6256:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=t(5488)._(t(568));function a(e,s){var t;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...s};return(0,r.default)({...n,modules:null==(t=n.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},3400:(e,s)=>{"use strict";function t(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"encodeURIPath",{enumerable:!0,get:function(){return t}})},5771:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=t(4639);function a(e){let{reason:s,children:t}=e;throw new r.BailoutToCSRError(s)}},568:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o}});let r=t(5512),a=t(8009),n=t(5771),d=t(6054);function l(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let s={...i,...e},t=(0,a.lazy)(()=>s.loader().then(l)),o=s.loading;function c(e){let l=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!s.ssr||!!s.loading,c=i?a.Suspense:a.Fragment,u=s.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.PreloadChunks,{moduleIds:s.modules}),(0,r.jsx)(t,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(c,{...i?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},6054:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return l}});let r=t(5512),a=t(5740),n=t(9294),d=t(3400);function l(e){let{moduleIds:s}=e,t=n.workAsyncStorage.getStore();if(void 0===t)return null;let l=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files;l.push(...s)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>{let s=t.assetPrefix+"/_next/"+(0,d.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style"},e):((0,a.preload)(s,{as:"script",fetchPriority:"low"}),null)})})}},3595:(e,s,t)=>{"use strict";t.d(s,{X:()=>r});var r=function(e){return e.ADMIN="ADMIN",e.PARTNER="PARTNER",e}({})},6978:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/Ayyan/Desktop/rentkar/web/app/admin/orders/[id]/page.tsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[894,531,735],()=>t(9173));module.exports=r})();