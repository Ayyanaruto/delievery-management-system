(()=>{var e={};e.id=485,e.ids=[485],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},1757:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=a(260),t=a(8203),l=a(5155),n=a.n(l),i=a(7292),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let o=["",{children:["partner",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2467)),"/home/Ayyan/Desktop/rentkar/web/app/partner/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9611)),"/home/Ayyan/Desktop/rentkar/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/Ayyan/Desktop/rentkar/web/app/partner/profile/page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/partner/profile/page",pathname:"/partner/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3292:(e,s,a)=>{Promise.resolve().then(a.bind(a,2467))},9159:(e,s,a)=>{Promise.resolve().then(a.bind(a,2041))},2041:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(5512),t=a(4658),l=a(7021),n=a(7643),i=a(5409),d=a(3261),o=a(4069),c=a(801),p=a(3567),m=a(5668);let h=(0,a(1680).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=a(9334),u=a(8009);function f(){let e=(0,x.useRouter)(),[s,a]=(0,u.useState)(null),[f,j]=(0,u.useState)({name:"",email:"",phone:"",status:""}),[g,y]=(0,u.useState)(!0),[v,b]=(0,u.useState)(!1),N=(e,s)=>{j(a=>({...a,[e]:s}))},w=async()=>{if(s){b(!0);try{if(f.name!==s.name||f.email!==s.email||f.phone!==s.phone){let e=await p.cs.update(s._id,{name:f.name,email:f.email,phone:f.phone});if(!e.success)throw Error(e.message||"Failed to update profile")}if(f.status!==s.status){let e=await p.cs.updateStatus(s._id,f.status);if(!e.success)throw Error(e.message||"Failed to update status")}a(e=>e?{...e,name:f.name,email:f.email,phone:f.phone,status:f.status}:null),(0,c.oR)({title:"Profile updated",description:"Your profile has been successfully updated."})}catch(e){console.error("Error updating profile:",e),(0,c.oR)({title:"Update failed",description:e instanceof Error?e.message:"Failed to update profile. Please try again.",variant:"destructive"})}finally{b(!1)}}};return g?(0,r.jsx)(t.A,{children:(0,r.jsx)("div",{className:"flex-1 p-8 flex items-center justify-center",children:(0,r.jsx)("p",{children:"Loading profile data..."})})}):(0,r.jsx)(t.A,{children:(0,r.jsxs)("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(l.$,{variant:"ghost",onClick:()=>e.push("/partner/dashboard"),className:"mr-4",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]}),(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Profile"})]}),(0,r.jsxs)(l.$,{onClick:w,disabled:v,children:[(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),v?"Saving...":"Save Changes"]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Personal Information"}),(0,r.jsx)(n.BT,{children:"Update your personal details"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"name",children:"Full Name"}),(0,r.jsx)(i.p,{id:"name",value:f.name,onChange:e=>N("name",e.target.value),placeholder:"Enter your full name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"email",children:"Email Address"}),(0,r.jsx)(i.p,{id:"email",type:"email",value:f.email,onChange:e=>N("email",e.target.value),placeholder:"Enter your email address"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"phone",children:"Phone Number"}),(0,r.jsx)(i.p,{id:"phone",value:f.phone,onChange:e=>N("phone",e.target.value),placeholder:"Enter your phone number"})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Availability Status"}),(0,r.jsx)(n.BT,{children:"Manage your availability for deliveries"})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"status",children:"Current Status"}),(0,r.jsxs)(o.l6,{value:f.status,onValueChange:e=>N("status",e),children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{placeholder:"Select your status"})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"AVAILABLE",children:"Available"}),(0,r.jsx)(o.eb,{value:"OFFLINE",children:"Offline"}),(0,r.jsx)(o.eb,{value:"ON_BREAK",children:"On Break"}),(0,r.jsx)(o.eb,{value:"ON_DELIVERY",children:"On Delivery"}),(0,r.jsx)(o.eb,{value:"ASSIGNED",children:"Assigned"})]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Status Meanings:"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1 text-gray-600",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Available:"})," Ready to receive new orders"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Offline:"})," Not accepting any orders"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"On Break:"})," Temporarily unavailable"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"On Delivery:"})," Currently delivering an order"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Assigned:"})," Order assigned but not started"]})]})]}),s&&(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Account Information"}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Member since:"})," ",new Date(s.createdAt).toLocaleDateString()]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Total assigned orders:"})," ",s.assignedOrders?.length||0]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Last updated:"})," ",new Date(s.updatedAt).toLocaleDateString()]})]})]})]})]})]})]})})}},4658:(e,s,a)=>{"use strict";a.d(s,{A:()=>f});var r=a(5512),t=a(7021),l=a(985),n=a(4269),i=a(8193);let d=(0,a(1680).A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var o=a(7798),c=a(722),p=a(6438),m=a(8531),h=a.n(m),x=a(9334),u=a(8009);function f({children:e}){let s=(0,x.useRouter)(),[a,m]=(0,u.useState)(!1),f=(0,u.useCallback)(()=>{localStorage.removeItem("user"),s.push("/login")},[s]);return(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[a&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>m(!1)}),(0,r.jsx)("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:z-auto ${a?"translate-x-0":"-translate-x-full"}`,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,r.jsxs)(h(),{href:"/partner/dashboard",className:"flex items-center",children:[(0,r.jsx)(l.A,{className:"h-6 w-6 text-primary mr-2"}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"Rentkar Partner"})]}),(0,r.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"lg:hidden",children:(0,r.jsx)(n.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[(0,r.jsxs)(h(),{href:"/partner/dashboard",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),(0,r.jsxs)(h(),{href:"/partner/dashboard?tab=assigned",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 mr-3"}),"Assigned Orders"]}),(0,r.jsxs)(h(),{href:"/partner/dashboard?tab=map",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(d,{className:"h-5 w-5 mr-3"}),"Delivery Map"]}),(0,r.jsxs)(h(),{href:"/partner/profile",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 mr-3"}),"Profile"]})]}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)(t.$,{variant:"outline",className:"w-full justify-start",onClick:f,children:[(0,r.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsxs)("header",{className:"h-16 border-b bg-white flex items-center px-4 lg:px-6",children:[(0,r.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>m(!0),className:"lg:hidden",children:(0,r.jsx)(p.A,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:"ml-auto flex items-center space-x-2",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:"Delivery Partner"})})]}),(0,r.jsx)("main",{className:"flex-1",children:e})]})]})}},5409:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var r=a(5512),t=a(8009),l=a(9462);let n=t.forwardRef(({className:e,type:s,...a},t)=>(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...a}));n.displayName="Input"},3261:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var r=a(5512),t=a(8009),l=a(830),n=t.forwardRef((e,s)=>(0,r.jsx)(l.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var i=a(1643),d=a(9462);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(n,{ref:a,className:(0,d.cn)(o(),e),...s}));c.displayName=n.displayName},4069:(e,s,a)=>{"use strict";a.d(s,{bq:()=>m,eb:()=>f,gC:()=>u,l6:()=>c,yv:()=>p});var r=a(5512),t=a(8009),l=a(2133),n=a(8755),i=a(8638),d=a(4849),o=a(9462);let c=l.bL;l.YJ;let p=l.WT,m=t.forwardRef(({className:e,children:s,...a},t)=>(0,r.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=l.l9.displayName;let h=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(l.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));h.displayName=l.PP.displayName;let x=t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(l.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=l.wn.displayName;let u=t.forwardRef(({className:e,children:s,position:a="popper",...t},n)=>(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...t,children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(x,{})]})}));u.displayName=l.UC.displayName,t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(l.JU,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",e),...s})).displayName=l.JU.displayName;let f=t.forwardRef(({className:e,children:s,...a},t)=>(0,r.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]}));f.displayName=l.q7.displayName,t.forwardRef(({className:e,...s},a)=>(0,r.jsx)(l.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.wv.displayName},5668:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1680).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7798:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1680).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2467:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/Ayyan/Desktop/rentkar/web/app/partner/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/Ayyan/Desktop/rentkar/web/app/partner/profile/page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[894,531,976,735],()=>a(1757));module.exports=r})();