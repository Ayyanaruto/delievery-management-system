"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{2520:(e,t,r)=>{r.d(t,{A:()=>y});var a=r(5155),s=r(4085),n=r(719),i=r(767),o=r(858),c=r(2823),l=r(5236),d=r(6710),f=r(8173),u=r.n(f),m=r(6046),h=r(2115),g=r(2689);function y(e){let{children:t}=e,r=(0,m.useRouter)(),[f,y]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){r.push("/login");return}JSON.parse(e).role!==g.X.ADMIN&&r.push("/login")},[r]);let x=(0,h.useCallback)(()=>{localStorage.removeItem("user"),r.push("/login")},[r]);return(0,h.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("user");if(e){let t=JSON.parse(e).loginTime||Date.now();Date.now()-t>864e5&&x()}};e();let t=setInterval(e,36e5);return()=>clearInterval(t)},[x]),(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[f&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>y(!1)}),(0,a.jsx)("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:z-auto ".concat(f?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,a.jsxs)(u(),{href:"/admin/dashboard",className:"flex items-center",children:[(0,a.jsx)(n.A,{className:"h-6 w-6 text-primary mr-2"}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"Rentkar Admin"})]}),(0,a.jsx)(s.$,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"lg:hidden",children:(0,a.jsx)(i.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[(0,a.jsxs)(u(),{href:"/admin/dashboard",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),(0,a.jsxs)(u(),{href:"/admin/orders/new",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 mr-3"}),"Create Order"]}),(0,a.jsxs)(u(),{href:"/admin/dashboard?tab=partners",className:"flex items-center px-4 py-2 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 mr-3"}),"Delivery Partners"]})]}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)(s.$,{variant:"outline",className:"w-full justify-start",onClick:x,children:[(0,a.jsx)(l.A,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("header",{className:"h-16 border-b bg-white flex items-center px-4 lg:px-6",children:[(0,a.jsx)(s.$,{variant:"ghost",size:"icon",onClick:()=>y(!0),className:"lg:hidden",children:(0,a.jsx)(d.A,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:"ml-auto flex items-center space-x-2",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"Admin"})})]}),(0,a.jsx)("main",{className:"flex-1",children:t})]})]})}},4085:(e,t,r)=>{r.d(t,{$:()=>l});var a=r(5155),s=r(2115),n=r(2317),i=r(1027),o=r(9602);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...d}=e,f=l?n.DX:"button";return(0,a.jsx)(f,{className:(0,o.cn)(c({variant:s,size:i,className:r})),ref:t,...d})});l.displayName="Button"},5007:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>o,wL:()=>f});var a=r(5155),s=r(2115),n=r(9602);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});f.displayName="CardFooter"},1641:(e,t,r)=>{r.d(t,{Xi:()=>l,av:()=>d,j7:()=>c,tU:()=>o});var a=r(5155),s=r(2115),n=r(8629),i=r(9602);let o=n.bL,c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.B8,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...s})});c.displayName=n.B8.displayName;let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...s})});l.displayName=n.l9.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});d.displayName=n.UC.displayName},5739:(e,t,r)=>{async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token"),a={"Content-Type":"application/json",...t.headers?Object.fromEntries(new Headers(t.headers).entries()):{}};r&&(a.Authorization="Bearer ".concat(r));try{let r=await fetch("".concat("http://localhost:5000/api/v1").concat(e),{...t,headers:a}),s=r.headers.get("content-type");if(!s||!s.includes("application/json"))throw Error("Server returned ".concat(r.status,": ").concat(r.statusText));let n=await r.json();if(!r.ok)throw Error(n.message||"HTTP ".concat(r.status,": ").concat(r.statusText));return n}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw Error("Unable to connect to server. Please check if the server is running.");throw e}}r.d(t,{R2:()=>s,cs:()=>n,gH:()=>i});let s={login:async(e,t)=>a("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),register:async e=>a("/auth/register",{method:"POST",body:JSON.stringify(e)}),getCurrentUser:async()=>a("/auth/me")},n={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return a("/partners".concat(t?"?".concat(t):""))},getById:async e=>a("/partners/".concat(e)),update:async(e,t)=>a("/partners/".concat(e),{method:"PUT",body:JSON.stringify(t)}),updateStatus:async(e,t)=>a("/partners/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})}),deletePartner:async e=>a("/partners/".concat(e),{method:"DELETE"})},i={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(e).toString();return a("/orders".concat(t?"?".concat(t):""))},getById:async e=>a("/orders/".concat(e)),create:async e=>a("/orders",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>a("/orders/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>a("/orders/".concat(e),{method:"DELETE"}),assign:async(e,t)=>a("/orders/".concat(e,"/assign"),{method:"PATCH",body:JSON.stringify({partnerId:t})}),unassign:async e=>a("/orders/".concat(e,"/unassign"),{method:"PATCH"}),getPartnerOrders:async e=>a("/orders/partner/".concat(e)),updateStatus:async(e,t)=>a("/orders/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}},9602:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(3463),s=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},5844:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(7401).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},2823:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(7401).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},2689:(e,t,r)=>{r.d(t,{X:()=>a});var a=function(e){return e.ADMIN="ADMIN",e.PARTNER="PARTNER",e}({})},1851:(e,t,r)=>{r.d(t,{j:()=>a});var a=function(e){return e.AVAILABLE="AVAILABLE",e.OFFLINE="OFFLINE",e.ON_BREAK="ON_BREAK",e.ON_DELIVERY="ON_DELIVERY",e.ASSIGNED="ASSIGNED",e}({})}}]);