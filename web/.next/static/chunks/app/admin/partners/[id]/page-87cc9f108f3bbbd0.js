(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{1924:(e,s,t)=>{Promise.resolve().then(t.bind(t,3647))},3647:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(5155),r=t(2520),l=t(9286),c=t(4085),i=t(5007),n=t(1641),d=t(5739),x=t(1851),m=t(7364),h=t(3831),o=t(7401);let p=(0,o.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),u=(0,o.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var j=t(5844),g=t(6046),y=t(2115);let v=e=>{switch(e.toUpperCase()){case x.j.AVAILABLE:return"bg-green-100 text-green-800";case x.j.OFFLINE:return"bg-gray-100 text-gray-800";case x.j.ON_BREAK:return"bg-yellow-100 text-yellow-800";case x.j.ON_DELIVERY:return"bg-blue-100 text-blue-800";case x.j.ASSIGNED:return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};function N(){let e=(0,g.useRouter)(),s=(0,g.useParams)().id,[t,o]=(0,y.useState)(null),[N,f]=(0,y.useState)(!0),[b,w]=(0,y.useState)(!1);(0,y.useEffect)(()=>{let e=async()=>{try{let e=await d.cs.getById(s);o(e.data)}catch(e){console.error("Error fetching partner:",e)}finally{f(!1)}};s&&e()},[s]);let A=async e=>{if(t){w(!0);try{await d.cs.updateStatus(t._id,e),o({...t,status:e})}catch(e){console.error("Error updating partner status:",e)}finally{w(!1)}}};return N?(0,a.jsx)(r.A,{children:(0,a.jsx)("div",{className:"flex-1 p-8 flex items-center justify-center",children:(0,a.jsx)("p",{children:"Loading partner details..."})})}):t?(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Back"]}),(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Partner Profile"})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)(i.Zp,{className:"md:col-span-1",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["Partner Details",(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>e.push("/admin/partners/".concat(t._id,"/update")),className:"ml-2",children:"Update"}),(0,a.jsx)(c.$,{variant:"destructive",size:"sm",onClick:async()=>{await d.cs.deletePartner(t._id),e.push("/admin/dashboard")},className:"ml-2",children:"Remove"})]}),(0,a.jsx)(l.E,{className:v(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: #",t._id]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm",children:t.phone})]}),t.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm",children:t.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("span",{className:"text-sm",children:["Joined ",new Date(t.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("span",{className:"text-sm",children:[t.assignedOrders||0," Active Orders"]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Update Status"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.values(x.j).map(e=>(0,a.jsx)(c.$,{variant:t.status===e?"default":"outline",size:"sm",disabled:b||t.status===e,onClick:()=>A(e),className:"text-xs",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,a.jsx)(i.Zp,{className:"md:col-span-2",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)(n.tU,{defaultValue:"activity",children:[(0,a.jsxs)(n.j7,{children:[(0,a.jsx)(n.Xi,{value:"activity",children:"Activity"}),(0,a.jsx)(n.Xi,{value:"orders",children:"Order History"}),(0,a.jsx)(n.Xi,{value:"performance",children:"Performance"})]}),(0,a.jsx)(n.av,{value:"activity",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Recent Activity"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:["Status updated to ",t.status]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(t.updatedAt).toLocaleString()})]})}),(0,a.jsx)("div",{className:"text-center text-gray-500 text-sm py-8",children:"More activity details will be available when order history is implemented"})]})]})}),(0,a.jsx)(n.av,{value:"orders",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Order History"}),(0,a.jsx)("div",{className:"text-center text-gray-500 text-sm py-8",children:"Order history will be displayed here when order management is implemented"})]})}),(0,a.jsx)(n.av,{value:"performance",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:t.assignedOrders||0}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"-"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"-"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"-"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"On Time %"})]})]})]})})]})})})]})]})}):(0,a.jsx)(r.A,{children:(0,a.jsx)("div",{className:"flex-1 p-8 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"Partner not found"}),(0,a.jsx)(c.$,{onClick:()=>e.push("/admin/dashboard"),children:"Back to Dashboard"})]})})})}},9286:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(5155);t(2115);var r=t(1027),l=t(9602);let c=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(c({variant:t}),s),...r})}},7364:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3831:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[365,173,598,558,269,441,517,358],()=>s(1924)),_N_E=e.O()}]);